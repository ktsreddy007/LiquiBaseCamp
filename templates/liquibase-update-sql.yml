# Liquibase UpdateSQL Template
steps:
  - script: |
      set -euo pipefail
      echo "=== LIQUIBASE UPDATESQL STAGE ==="
      echo "JAVA_HOME=$JAVA_HOME"
      echo "Liquibase location: $(which liquibase)"
      echo "Using properties file: $(LIQUIBASE_PROPERTIES)"
      echo "Generating dry-run SQL..."
      liquibase \
        --defaultsFile=$(LIQUIBASE_PROPERTIES) \
        updateSQL
      echo "UpdateSQL generated successfully"
    displayName: "Generate Update SQL (Dry Run)"