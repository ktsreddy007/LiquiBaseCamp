# Liquibase Validate Template
steps:
  - script: |
      set -euo pipefail
      echo "=== LIQUIBASE VALIDATE STAGE ==="
      echo "JAVA_HOME=$JAVA_HOME"
      echo "Liquibase location: $(which liquibase)"
      echo "Using properties file: $(LIQUIBASE_PROPERTIES)"
      echo "Validating changelog..."
      liquibase \
        --defaultsFile=$(LIQUIBASE_PROPERTIES) \
        validate
      echo "Validation successful at $(date)"
    displayName: "Validate Liquibase Changelog"